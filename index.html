<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Simple TTS: English, Urdu & Hindi</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #fff;
      color: #222;
      max-width: 640px;
      margin: 2rem auto;
      padding: 2rem;
      border-radius: 8px;
      transition: background 0.3s, color 0.3s;
      position: relative;
    }
    body.dark {
      background: #111;
      color: #f5f5f5;
    }
    h2 {
      text-align: center;
      margin-bottom: 1rem;
    }
    textarea {
      width: 100%;
      height: 120px;
      padding: 0.5rem;
      margin-bottom: 1rem;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-family: sans-serif;
      font-size: 1rem;
      transition: background 0.3s, color 0.3s, border-color 0.3s;
    }
    .row {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .row label {
      flex: 1;
      font-size: 0.9rem;
      display: flex;
      flex-direction: column;
    }
    select, input[type="range"] {
      margin-top: 0.3rem;
      padding: 0.4rem;
      border-radius: 4px;
      border: 1px solid #ccc;
      transition: background 0.3s, border-color 0.3s;
    }
    .buttons {
      display: flex;
      gap: 0.5rem;
      justify-content: center;
      flex-wrap: wrap;
    }
    button {
      padding: 0.6rem 1.2rem;
      border: none;
      border-radius: 4px;
      background: #0078d4;
      color: white;
      cursor: pointer;
      transition: background 0.3s, transform 0.1s;
    }
    button:hover { background: #005fa3; }
    button:active { transform: scale(0.95); }
    .theme-toggle {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>

  <label class="theme-toggle">
    <input type="checkbox" id="darkToggle"> Dark Mode
  </label>

  <h2>Text-to-Speech</h2>

  <textarea id="textInput" placeholder="Type your text hereâ€¦"></textarea>

  <div class="row">
    <label>
      Language
      <select id="language">
        <option value="en-US">English (US)</option>
        <option value="ur-PK">Urdu</option>
        <option value="hi-IN">Hindi</option>
      </select>
    </label>
  </div>

  <div class="row">
    <label>
      Rate (<span id="rateVal">1</span>)
      <input type="range" id="rate" min="0.5" max="2" step="0.1" value="1">
    </label>
    <label>
      Pitch (<span id="pitchVal">1</span>)
      <input type="range" id="pitch" min="0" max="2" step="0.1" value="1">
    </label>
  </div>

  <div class="buttons">
    <button id="speakBtn">Speak</button>
    <button id="pauseBtn">Pause</button>
    <button id="resumeBtn">Resume</button>
    <button id="cancelBtn">Cancel</button>
  </div>

  <script>
    const synth         = window.speechSynthesis;
    const textInput     = document.getElementById('textInput');
    const languageEl    = document.getElementById('language');
    const rateEl        = document.getElementById('rate');
    const pitchEl       = document.getElementById('pitch');
    const rateVal       = document.getElementById('rateVal');
    const pitchVal      = document.getElementById('pitchVal');
    const darkToggle    = document.getElementById('darkToggle');
    const speakBtn      = document.getElementById('speakBtn');
    const pauseBtn      = document.getElementById('pauseBtn');
    const resumeBtn     = document.getElementById('resumeBtn');
    const cancelBtn     = document.getElementById('cancelBtn');

    let voices = [];

    // Populate available voices
    function populateVoices() {
      voices = synth.getVoices();
    }

    // Speak with selected language, rate & pitch
    speakBtn.onclick = () => {
      const text = textInput.value.trim();
      if (!text) return alert('Please enter some text.');
      const utter = new SpeechSynthesisUtterance(text);

      // set language & voice
      utter.lang  = languageEl.value;
      const voice = voices.find(v => v.lang === languageEl.value);
      if (voice) utter.voice = voice;

      // apply rate/pitch
      utter.rate  = parseFloat(rateEl.value);
      utter.pitch = parseFloat(pitchEl.value);

      synth.speak(utter);
    };

    pauseBtn.onclick  = () => synth.pause();
    resumeBtn.onclick = () => synth.resume();
    cancelBtn.onclick = () => synth.cancel();

    // Update sliders
    rateEl.oninput  = () => rateVal.textContent  = rateEl.value;
    pitchEl.oninput = () => pitchVal.textContent = pitchEl.value;

    // Dark mode toggle
    darkToggle.onchange = () => {
      document.body.classList.toggle('dark', darkToggle.checked);
    };

    // Initialize
    if (synth.onvoiceschanged !== undefined) {
      synth.onvoiceschanged = populateVoices;
    }
    populateVoices();
  </script>

</body>
</html>
